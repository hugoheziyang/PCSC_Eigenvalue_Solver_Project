\doxysection{Matrix Class Reference}
\hypertarget{classMatrix}{}\label{classMatrix}\index{Matrix@{Matrix}}


Type-\/erased wrapper that stores dense or sparse Eigen matrices.  




{\ttfamily \#include $<$matrix.\+hpp$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classMatrix_a12d35ef1824cd847868a8703035b0d5d}\label{classMatrix_a12d35ef1824cd847868a8703035b0d5d} 
{\bfseries Matrix} ()=\mbox{\hyperlink{classMatrix}{default}}
\begin{DoxyCompactList}\small\item\em Default constructor\+: empty \doxylink{classMatrix}{Matrix}, no stored object. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{Derived}} $>$ \newline
requires \mbox{\hyperlink{classMatrix}{Scalar\+Concept}}$<$\mbox{\hyperlink{classMatrix}{typename}} Derived\+::\+Scalar$>$}\\\mbox{\hyperlink{classMatrix_ab0f3e6ea82c6fb02be3a02f6d5c6f26d}{Matrix}} (\mbox{\hyperlink{classMatrix}{const}} Eigen\+::\+Matrix\+Base$<$ \mbox{\hyperlink{classMatrix}{Derived}} $>$ \&\mbox{\hyperlink{classMatrix}{m}})
\begin{DoxyCompactList}\small\item\em Construct from any Eigen {\itshape dense} expression. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{classMatrix}{Scalar\+Concept}} Scalar, \mbox{\hyperlink{classMatrix}{int}} Options, \mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{Storage\+Index}} $>$ }\\\mbox{\hyperlink{classMatrix_a5dbde436c14e8376532b0aa85df7c815}{Matrix}} (\mbox{\hyperlink{classMatrix}{const}} Eigen\+::\+Sparse\+Matrix$<$ Scalar, \mbox{\hyperlink{classMatrix}{Options}}, \mbox{\hyperlink{classMatrix}{Storage\+Index}} $>$ \&\mbox{\hyperlink{classMatrix}{m}})
\begin{DoxyCompactList}\small\item\em Construct from an Eigen sparse matrix. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{classMatrix}{Scalar\+Concept}} Scalar$>$ }\\\mbox{\hyperlink{classMatrix_aa81b58bcc74ece79632881f9c0795ed6}{Matrix}} (\mbox{\hyperlink{classMatrix}{const}} std\+::vector$<$ Scalar $>$ \&\mbox{\hyperlink{classMatrix}{data}}, std\+::size\+\_\+t \mbox{\hyperlink{classMatrix}{rows}}, std\+::size\+\_\+t \mbox{\hyperlink{classMatrix}{cols}})
\begin{DoxyCompactList}\small\item\em Construct from a flat \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::vector$<$\+Scalar$>$} and shape (rows, cols). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMatrix_abcf708e864ed3d9db2c3b317c5e529ab}{Matrix}} (\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{Matrix}} \&\mbox{\hyperlink{classMatrix}{other}})
\begin{DoxyCompactList}\small\item\em Copy constructor\+: performs a deep copy of the stored object. \end{DoxyCompactList}\item 
\Hypertarget{classMatrix_a3e40db12ae78b7616ee3f099bb15f13d}\label{classMatrix_a3e40db12ae78b7616ee3f099bb15f13d} 
\mbox{\hyperlink{classMatrix}{Matrix}} \& {\bfseries operator=} (\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{Matrix}} \&\mbox{\hyperlink{classMatrix}{other}})
\begin{DoxyCompactList}\small\item\em Copy assignment\+: deep copy via clone(), with self-\/assignment guard. \end{DoxyCompactList}\item 
\Hypertarget{classMatrix_ae55dd75e64afeef9a48ddfa3b333b60b}\label{classMatrix_ae55dd75e64afeef9a48ddfa3b333b60b} 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Matrix} ()=\mbox{\hyperlink{classMatrix}{default}}
\begin{DoxyCompactList}\small\item\em Virtual destructor not needed; \doxylink{classMatrix}{Matrix} is not intended as a base class. \end{DoxyCompactList}\item 
\Hypertarget{classMatrix_ae7dc4eb628122570c89094a14dc0021f}\label{classMatrix_ae7dc4eb628122570c89094a14dc0021f} 
\mbox{\hyperlink{classMatrix}{bool}} {\bfseries has\+\_\+value} () \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{noexcept}}
\begin{DoxyCompactList}\small\item\em Returns true if this \doxylink{classMatrix}{Matrix} currently holds a value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info}} \& \mbox{\hyperlink{classMatrix_aed73db9e9a9fbf6c9fd8bd82238e8683}{type}} () \mbox{\hyperlink{classMatrix}{const}}
\begin{DoxyCompactList}\small\item\em Returns the dynamic type of the stored (matrix) object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info}} \& \mbox{\hyperlink{classMatrix_a336eeb12b216965b1030c5f0de2f418e}{scalar\+\_\+type}} () \mbox{\hyperlink{classMatrix}{const}}
\begin{DoxyCompactList}\small\item\em Returns the scalar type (float, double, complex, etc.). \end{DoxyCompactList}\item 
\Hypertarget{classMatrix_a75e07c6e7201be7839b96eec1b719315}\label{classMatrix_a75e07c6e7201be7839b96eec1b719315} 
\mbox{\hyperlink{classMatrix}{bool}} {\bfseries is\+Dense} () \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{noexcept}}
\begin{DoxyCompactList}\small\item\em Returns true if the stored matrix is dense. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{T}} $>$ }\\\mbox{\hyperlink{classMatrix}{T}} \& \mbox{\hyperlink{classMatrix_a97b8901a453cbdc94fc3fd4cb3e9d4dd}{cast}} ()
\begin{DoxyCompactList}\small\item\em Downcast to the concrete stored type T (non-\/const). \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{T}} $>$ }\\\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{T}} \& \mbox{\hyperlink{classMatrix_a58d5c0f61ca59f27360f773c95961a57}{cast}} () \mbox{\hyperlink{classMatrix}{const}}
\begin{DoxyCompactList}\small\item\em Downcast to the concrete stored type T (const version). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{T}} $>$ }\\\mbox{\hyperlink{classMatrix}{static}} \mbox{\hyperlink{classMatrix}{Matrix}} \mbox{\hyperlink{classMatrix_af0e7f30436f91cb85b22558fcd384f30}{from\+\_\+custom}} (\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{T}} \&\mbox{\hyperlink{classMatrix}{m}})
\begin{DoxyCompactList}\small\item\em Create a \doxylink{classMatrix}{Matrix} wrapper from an arbitrary user-\/defined matrix type. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Type-\/erased wrapper that stores dense or sparse Eigen matrices. 

Internally, \doxylink{classMatrix}{Matrix} holds a \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box$>$} that actually points to a Box\+Typed$<$\+T$>$ where T is either\+:
\begin{DoxyItemize}
\item a dense \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Matrix$<$\+Scalar, Dynamic, Dynamic$>$}, or
\item a sparse \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Sparse\+Matrix$<$\+Scalar$>$} (canonical sparse type).
\end{DoxyItemize}

For \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::vector$<$\+Scalar$>$} input, the data is always converted into a dense \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Matrix$<$\+Scalar, Dynamic, Dynamic$>$}. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMatrix_ab0f3e6ea82c6fb02be3a02f6d5c6f26d}\label{classMatrix_ab0f3e6ea82c6fb02be3a02f6d5c6f26d} 
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{Matrix()}{Matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{Derived}} $>$ \newline
requires \mbox{\hyperlink{classMatrix}{Scalar\+Concept}}$<$\mbox{\hyperlink{classMatrix}{typename}} Derived\+::\+Scalar$>$\\
Matrix\+::\+Matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMatrix}{const}} Eigen\+::\+Matrix\+Base$<$ \mbox{\hyperlink{classMatrix}{Derived}} $>$ \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Construct from any Eigen {\itshape dense} expression. 

This constructor accepts any Eigen dense expression derived from \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Matrix\+Base$<$\+Derived$>$} (including \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Matrix\+Xd}, fixed-\/size matrices, blocks, transposes, sums like A+B, etc.) and converts it into a dynamic-\/size dense \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Matrix$<$\+Scalar, Dynamic, Dynamic$>$} stored inside \doxylink{classBoxTyped}{Box\+Typed}.


\begin{DoxyTemplParams}{Template Parameters}
{\em Derived} & Any Eigen dense expression type derived from Matrix\+Base. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em m} & Input Eigen expression to be copied into the wrapper. \\
\hline
\end{DoxyParams}
\Hypertarget{classMatrix_a5dbde436c14e8376532b0aa85df7c815}\label{classMatrix_a5dbde436c14e8376532b0aa85df7c815} 
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{Matrix()}{Matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classMatrix}{Scalar\+Concept}} Scalar, \mbox{\hyperlink{classMatrix}{int}} Options, \mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{Storage\+Index}} $>$ \\
Matrix\+::\+Matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMatrix}{const}} Eigen\+::\+Sparse\+Matrix$<$ Scalar, \mbox{\hyperlink{classMatrix}{Options}}, \mbox{\hyperlink{classMatrix}{Storage\+Index}} $>$ \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Construct from an Eigen sparse matrix. 

This constructor accepts any \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Sparse\+Matrix$<$\+Scalar, Options, Storage\+Index$>$} and converts it into the canonical sparse type\+: \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Sparse\+Matrix$<$\+Scalar$>$} (column-\/major, int index).

This ensures that all sparse matrices stored in \doxylink{classMatrix}{Matrix} have the same type, so functions can safely use \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{cast$<$\+Eigen\+::\+Sparse\+Matrix$<$\+Scalar$>$$>$()}. \Hypertarget{classMatrix_aa81b58bcc74ece79632881f9c0795ed6}\label{classMatrix_aa81b58bcc74ece79632881f9c0795ed6} 
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{Matrix()}{Matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classMatrix}{Scalar\+Concept}} Scalar$>$ \\
Matrix\+::\+Matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMatrix}{const}} std\+::vector$<$ Scalar $>$ \&}]{data,  }\item[{std\+::size\+\_\+t}]{rows,  }\item[{std\+::size\+\_\+t}]{cols }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct from a flat \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::vector$<$\+Scalar$>$} and shape (rows, cols). 

The data is interpreted in row-\/major order and copied into a \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen\+::\+Matrix$<$\+Scalar, Dynamic, Dynamic$>$} stored inside \doxylink{classBoxTyped}{Box\+Typed}. This constructor always produces a DENSE Eigen matrix regardless of any future support for sparse types. \Hypertarget{classMatrix_abcf708e864ed3d9db2c3b317c5e529ab}\label{classMatrix_abcf708e864ed3d9db2c3b317c5e529ab} 
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\index{Matrix@{Matrix}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{Matrix()}{Matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily Matrix\+::\+Matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{Matrix}} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Copy constructor\+: performs a deep copy of the stored object. 

If other holds a Box\+Typed$<$\+T$>$, this constructor will call clone() on that \doxylink{classBox}{Box}, which creates a new Box\+Typed$<$\+T$>$ with a copy of the underlying T. The \doxylink{classMatrix}{Matrix} wrapper itself does not need to know T. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classMatrix_a97b8901a453cbdc94fc3fd4cb3e9d4dd}\label{classMatrix_a97b8901a453cbdc94fc3fd4cb3e9d4dd} 
\index{Matrix@{Matrix}!cast@{cast}}
\index{cast@{cast}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{cast()}{cast()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{T}} $>$ \\
\mbox{\hyperlink{classMatrix}{T}} \& Matrix\+::cast (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Downcast to the concrete stored type T (non-\/const). 

Because \doxylink{classMatrix}{Matrix} uses type-\/erasure internally (the stored object is only known as a \doxylink{classBox}{Box} pointer), this function retrieves the actual underlying Eigen object by checking that the runtime type matches T. If so, it returns a reference to the stored Eigen matrix of type T.\hypertarget{classMatrix_autotoc_md1}{}\doxysubsubsubsection{\texorpdfstring{Example\+:}{Example:}}\label{classMatrix_autotoc_md1}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen::MatrixXd}}\ \mbox{\hyperlink{classMatrix}{A}}\ =\ Eigen::MatrixXd::Random(3,3);}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix}{Matrix}}\ \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{M}}(\mbox{\hyperlink{classMatrix}{A}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ stored\ as\ BoxTyped<Eigen::MatrixXd>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Recover\ the\ underlying\ Eigen\ matrix:}}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen::MatrixXd}}\&\ \mbox{\hyperlink{classMatrix}{R}}\ =\ \mbox{\hyperlink{classMatrix}{M}}.\mbox{\hyperlink{classMatrix_a97b8901a453cbdc94fc3fd4cb3e9d4dd}{cast}}<\mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{Eigen::MatrixXd}}>();}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std::cout}}\ <<\ \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{R}}(0,0)\ <<\ \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std::endl}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ If\ the\ type\ does\ not\ match,\ this\ throws\ std::bad\_cast:}}
\DoxyCodeLine{\textcolor{comment}{//\ auto\&\ wrong\ =\ M.cast<Eigen::SparseMatrix<double>>();}}

\end{DoxyCode}



\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The expected concrete Eigen matrix type. \\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
Reference to the underlying stored matrix of type T.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::runtime\+\_\+error}} & If the \doxylink{classMatrix}{Matrix} is empty. \\
\hline
{\em \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::bad\+\_\+cast}} & If the requested type T does not match the stored type. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classMatrix_a58d5c0f61ca59f27360f773c95961a57}\label{classMatrix_a58d5c0f61ca59f27360f773c95961a57} 
\index{Matrix@{Matrix}!cast@{cast}}
\index{cast@{cast}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{cast()}{cast()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{T}} $>$ \\
\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{T}} \& Matrix\+::cast (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Downcast to the concrete stored type T (const version). 

Same logic as the non-\/const \doxylink{classMatrix_a97b8901a453cbdc94fc3fd4cb3e9d4dd}{cast()}, but returns a const reference to the underlying matrix. This is used when the \doxylink{classMatrix}{Matrix} object itself is const.


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The expected concrete matrix type. \\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
const T\& Const reference to the stored matrix of type T.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::runtime\+\_\+error}} & If the \doxylink{classMatrix}{Matrix} is empty (no ptr\+\_\+). \\
\hline
{\em \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::bad\+\_\+cast}} & If the stored type is not T. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classMatrix_af0e7f30436f91cb85b22558fcd384f30}\label{classMatrix_af0e7f30436f91cb85b22558fcd384f30} 
\index{Matrix@{Matrix}!from\_custom@{from\_custom}}
\index{from\_custom@{from\_custom}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{from\_custom()}{from\_custom()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classMatrix}{typename}} \mbox{\hyperlink{classMatrix}{T}} $>$ \\
\mbox{\hyperlink{classMatrix}{static}} \mbox{\hyperlink{classMatrix}{Matrix}} Matrix\+::from\+\_\+custom (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{T}} \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Create a \doxylink{classMatrix}{Matrix} wrapper from an arbitrary user-\/defined matrix type. 

This factory stores {\ttfamily m} by value inside a Box\+Typed$<$\+T$>$. The stored object can later be accessed via \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{cast$<$\+T$>$()}.

This is intended for user-\/defined non-\/\+Eigen types. For Eigen dense and sparse matrices, prefer the dedicated constructors so that is\+Dense\+\_\+ and \doxylink{classMatrix_a336eeb12b216965b1030c5f0de2f418e}{scalar\+\_\+type()} are set appropriately. User-\/specified algorithms using \doxylink{classMatrix}{Matrix} objects initialised from this function should not depend on \doxylink{classMatrix_a75e07c6e7201be7839b96eec1b719315}{is\+Dense()} or \doxylink{classMatrix_a336eeb12b216965b1030c5f0de2f418e}{scalar\+\_\+type()}.

Inside from\+\_\+custom, ptr\+\_\+ cannot be accessed directly because it\textquotesingle{}s static but once \doxylink{classMatrix}{Matrix} object is created, ptr\+\_\+ can be accessed, hence \doxylink{classMatrix}{Matrix} objects initialised from this function can use all features of \doxylink{classMatrix}{Matrix} class.\hypertarget{classMatrix_autotoc_md0}{}\doxysubsubsubsection{\texorpdfstring{Example\+:}{Example:}}\label{classMatrix_autotoc_md0}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{classMatrix}{MyMatrix}}\ \{\ ...\ \};\ \ \textcolor{comment}{//\ user-\/defined\ matrix-\/like\ type}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix}{MyMatrix}}\ \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{A}};}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix}{Matrix}}\ \mbox{\hyperlink{classMatrix}{M}}\ \ =\ \mbox{\hyperlink{classMatrix_af0e7f30436f91cb85b22558fcd384f30}{Matrix::from\_custom}}(\mbox{\hyperlink{classMatrix}{A}});\ \ \ \ \ \ \textcolor{comment}{//\ wrap\ A}}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix}{Matrix}}\ \mbox{\hyperlink{classMatrix}{M2}}\ =\ \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{M}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ copy\ Matrix}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Recover\ the\ stored\ object:}}
\DoxyCodeLine{\mbox{\hyperlink{classMatrix}{MyMatrix}}\&\ \mbox{\hyperlink{classMatrix}{ref}}\ =\ \mbox{\hyperlink{classMatrix}{M}}.\mbox{\hyperlink{classMatrix_a97b8901a453cbdc94fc3fd4cb3e9d4dd}{cast}}<\mbox{\hyperlink{classMatrix}{MyMatrix}}>();}

\end{DoxyCode}



\begin{DoxyTemplParams}{Template Parameters}
{\em T} & User-\/defined matrix-\/like type. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em m} & Object to store inside the \doxylink{classMatrix}{Matrix} wrapper. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A \doxylink{classMatrix}{Matrix} instance holding a copy of {\ttfamily m}. 
\end{DoxyReturn}
\Hypertarget{classMatrix_a336eeb12b216965b1030c5f0de2f418e}\label{classMatrix_a336eeb12b216965b1030c5f0de2f418e} 
\index{Matrix@{Matrix}!scalar\_type@{scalar\_type}}
\index{scalar\_type@{scalar\_type}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{scalar\_type()}{scalar\_type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info}} \& Matrix\+::scalar\+\_\+type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the scalar type (float, double, complex, etc.). 

\begin{DoxyReturn}{Returns}
\doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info} describing the scalar type. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::runtime\+\_\+error}} & if the \doxylink{classMatrix}{Matrix} is empty. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classMatrix_aed73db9e9a9fbf6c9fd8bd82238e8683}\label{classMatrix_aed73db9e9a9fbf6c9fd8bd82238e8683} 
\index{Matrix@{Matrix}!type@{type}}
\index{type@{type}!Matrix@{Matrix}}
\doxysubsubsection{\texorpdfstring{type()}{type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info}} \& Matrix\+::type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the dynamic type of the stored (matrix) object. 


\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::runtime\+\_\+error}} & if the \doxylink{classMatrix}{Matrix} is empty. \\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
matrix/\mbox{\hyperlink{matrix_8hpp}{matrix.\+hpp}}\end{DoxyCompactItemize}
