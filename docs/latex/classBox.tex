\doxysection{Box Class Reference}
\hypertarget{classBox}{}\label{classBox}\index{Box@{Box}}


Abstract base class for type-\/erased objects.  




{\ttfamily \#include $<$box.\+hpp$>$}



Inheritance diagram for Box\+:
% FIG 0
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classBox_a5e0e2a22406a9302d1d2f7e7aa6db302}\label{classBox_a5e0e2a22406a9302d1d2f7e7aa6db302} 
{\bfseries Box} ()=\mbox{\hyperlink{classMatrix}{default}}
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\Hypertarget{classBox_a9227d62e4261755a25f2ef1486ccfa35}\label{classBox_a9227d62e4261755a25f2ef1486ccfa35} 
{\bfseries Box} (\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classBox}{Box}} \&)=\mbox{\hyperlink{classMatrix}{delete}}
\begin{DoxyCompactList}\small\item\em Copying disabled; use \doxylink{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}{clone()} in derived classes instead. \end{DoxyCompactList}\item 
\Hypertarget{classBox_a69671d4a5ef2e401bb329d4466d69c51}\label{classBox_a69671d4a5ef2e401bb329d4466d69c51} 
\mbox{\hyperlink{classBox}{Box}} \& {\bfseries operator=} (\mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classBox}{Box}} \&)=\mbox{\hyperlink{classMatrix}{delete}}
\item 
\Hypertarget{classBox_a61f83f4f33044c2754278b63e9a02d9f}\label{classBox_a61f83f4f33044c2754278b63e9a02d9f} 
\mbox{\hyperlink{classMatrix}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}\+Box} ()=\mbox{\hyperlink{classMatrix}{default}}
\begin{DoxyCompactList}\small\item\em Virtual destructor to ensure proper cleanup through base pointer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMatrix}{virtual}} \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info}} \& \mbox{\hyperlink{classBox_a4fdc2a73910a3448bbe6e42f26a116b1}{type}} () \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix}{noexcept}}=0
\begin{DoxyCompactList}\small\item\em Returns the dynamic type of the stored object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMatrix}{virtual}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr}}$<$ \mbox{\hyperlink{classBox}{Box}} $>$ \mbox{\hyperlink{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}{clone}} () \mbox{\hyperlink{classMatrix}{const}} =0
\begin{DoxyCompactList}\small\item\em Creates a polymorphic deep copy of the stored object. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Abstract base class for type-\/erased objects. 

\doxylink{classBox}{Box} provides the interface required for type-\/erasure\+: the ability to store an object of unknown compile-\/time type and interact with it through a uniform base class. It supports\+:


\begin{DoxyItemize}
\item querying the runtime type (via \doxylink{classBox_a4fdc2a73910a3448bbe6e42f26a116b1}{type()}),
\item creating a deep copy of the underlying object (via \doxylink{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}{clone()}),
\item and safe destruction through a virtual destructor.
\end{DoxyItemize}

Concrete storage is implemented in Box\+Typed$<$\+T$>$. This mechanism allows higher-\/level wrappers (\doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{e.\+g}. \doxylink{classMatrix}{Matrix}) to store dense or sparse Eigen matrices of any type without knowing the concrete type at compile time. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}\label{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0} 
\index{Box@{Box}!clone@{clone}}
\index{clone@{clone}!Box@{Box}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMatrix}{virtual}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr}}$<$ \mbox{\hyperlink{classBox}{Box}} $>$ Box\+::clone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Creates a polymorphic deep copy of the stored object. 

This function is essential for enabling copy operations on a type-\/erased wrapper such as\+: \begin{DoxyVerb}Matrix B = A;   // deep copy
\end{DoxyVerb}
 In such a wrapper, the underlying stored object is held via a pointer to \doxylink{classBox}{Box} (\doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{e.\+g}. \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box$>$}). Because the concrete type is unknown at compile time, the normal copy constructor cannot be used. Instead, \doxylink{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}{clone()} provides a virtual "{}copy constructor"{} that each Box\+Typed$<$\+T$>$ implements to return a new heap-\/allocated copy of the contained T.

\begin{DoxyNote}{Note}
\doxylink{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}{clone()} must return \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box$>$} (the base type), not \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box\+Typed$<$\+T$>$$>$}. Returning the base pointer preserves type-\/erasure\+:
\end{DoxyNote}

\begin{DoxyItemize}
\item If \doxylink{classBox_a0ffb29f5870945a38a1b5e43dc0c88e0}{clone()} returned \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box\+Typed$<$\+T$>$$>$}, then \doxylink{classMatrix}{Matrix} would need to know the concrete type T in order to store it.
\item This would force \doxylink{classMatrix}{Matrix} to become a template, or require a separate storage path for every possible Box\+Typed$<$\+T$>$ type.
\item Returning \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box$>$} allows \doxylink{classMatrix}{Matrix} to remain a single, non-\/templated type-\/erased wrapper that can hold {\itshape any} T.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
A \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::unique\+\_\+ptr$<$\+Box$>$} owning a deep copy of this object. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classBoxTyped_a9d6e3a343bd01252f6f221f414e686db}{Box\+Typed$<$ T $>$}}.

\Hypertarget{classBox_a4fdc2a73910a3448bbe6e42f26a116b1}\label{classBox_a4fdc2a73910a3448bbe6e42f26a116b1} 
\index{Box@{Box}!type@{type}}
\index{type@{type}!Box@{Box}}
\doxysubsubsection{\texorpdfstring{type()}{type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMatrix}{virtual}} \mbox{\hyperlink{classMatrix}{const}} \mbox{\hyperlink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info}} \& Box\+::type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}



Returns the dynamic type of the stored object. 

Derived classes must return the \doxylink{classMatrix_a12d35ef1824cd847868a8703035b0d5d}{std\+::type\+\_\+info} corresponding to the concrete stored type. 

Implemented in \mbox{\hyperlink{classBoxTyped_a3d34cd67cda136292a6f9194a5cce8ae}{Box\+Typed$<$ T $>$}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
matrix/\mbox{\hyperlink{box_8hpp}{box.\+hpp}}\end{DoxyCompactItemize}
